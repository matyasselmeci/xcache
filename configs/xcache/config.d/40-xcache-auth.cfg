#
# Configure XRootD hosts to utilize the XCache-generated proxy
#
# **********************************************************************
# * WARNING: DO NOT EDIT THIS FILE.  IT WILL BE OVERWRITTEN ON UPGRADE *
# **********************************************************************
#
# This file is part of the XCache Daemon
# https://opensciencegrid.org/docs/data/stashcache/overview/

# Proxy cert for reporting and retrieving data from origin servers
if named stash-cache
    # No proxy required for completely unauth access
else
    setenv X509_USER_PROXY = /run/xcache-auth/x509_proxy
fi


if defined ?GridMapfile
    # pass
else if named stash-cache-auth
    set GridMapfile = /run/stash-cache-auth/grid-mapfile
else if named stash-origin-auth
    set GridMapfile = /run/stash-origin-auth/grid-mapfile
else
    set GridMapfile = /etc/grid-security/grid-mapfile
fi

if defined ?GmapOpt
    # pass
else if named stash-cache-auth
    set GmapOpt = usemap
else if named stash-origin-auth
    set GmapOpt = usemap
else
    set GmapOpt = trymap
fi

